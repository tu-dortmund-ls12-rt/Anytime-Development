# Step 1: Fix Hardcoded Paths [COMPLETED]

**Status:** COMPLETED
**Day:** 1 (Tue Feb 24)
**Priority:** CRITICAL
**Time:** ~3h

## Why

Every experiment script hardcoded `/home/vscode/workspace`. This is the #1 reproducibility blocker - nothing works if the evaluator's workspace is at a different path.

**AE Impact:** Criterion 1 (Repeatability) - without this, score is 1.

## What Was Done

### Shell scripts (10 files)

Replaced `WORKSPACE_DIR="/home/vscode/workspace"` with auto-detection:

```bash
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
WORKSPACE_DIR="${WORKSPACE_DIR:-$(cd "${SCRIPT_DIR}/../.." && pwd)}"
```

Files modified:

- `experiments/monte_carlo/run_monte_carlo_experiments.sh`
- `experiments/monte_carlo/test_single_config.sh`
- `experiments/interference/run_interference_experiments.sh`
- `experiments/interference/test_single_config.sh`
- `experiments/yolo/0_test_setup.sh`
- `experiments/yolo/1_collect_baseline.sh`
- `experiments/yolo/3_measure_throughput.sh`
- `experiments/yolo/6_run_experiments.sh`
- `experiments/yolo/6a_test_single_config.sh`
- `experiments/yolo/verify_tracepoints.sh`

### Python scripts (10 files)

Replaced `EXPERIMENT_DIR = Path("/home/vscode/workspace/experiments/...")` with:

```python
SCRIPT_DIR = Path(__file__).resolve().parent
EXPERIMENT_DIR = SCRIPT_DIR
WORKSPACE_DIR = Path(os.environ.get('WORKSPACE_DIR', SCRIPT_DIR.parent.parent))
```

Files modified:

- `experiments/monte_carlo/evaluate_monte_carlo.py`
- `experiments/monte_carlo/generate_configs.py`
- `experiments/interference/evaluate_interference.py`
- `experiments/interference/generate_configs.py`
- `experiments/yolo/0_generate_baseline_configs.py`
- `experiments/yolo/2a_analyze_quality.py`
- `experiments/yolo/2b_analyze_blocks.py`
- `experiments/yolo/4_analyze_throughput.py`
- `experiments/yolo/5_generate_configs.py`
- `experiments/yolo/7_analyze_cancellation.py`

### CMakeLists.txt (2 files)

Replaced hardcoded `/home/vscode/libraries/libtorch` with `$ENV{HOME}/libraries/libtorch`:

- `packages/src/anytime_yolo/CMakeLists.txt`
- `packages/src/anytime_monte_carlo/CMakeLists.txt`

### YAML configs

- `packages/src/experiments/config/yolo/default_server.yaml` - weights_path made relative
- `experiments/yolo/configs/*.yaml` - deleted (will be regenerated by fixed generators)

### READMEs (6 files)

Replaced all `/home/vscode/workspace/` references:

- `README.md`
- `experiments/yolo/README.md`
- `experiments/monte_carlo/README.md`
- `experiments/interference/README.md`
- `packages/src/experiments/README.md`
- `packages/src/test_action/README.md`

## Verification

```bash
grep -rn "/home/vscode" experiments/ packages/src/
# Returns 0 results
```

Only remaining references are in `.devcontainer/` (correct for Docker) and `artifact-evaluation-plan/` (old docs).
